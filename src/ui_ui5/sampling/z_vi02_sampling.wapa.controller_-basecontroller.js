sap.ui.define(["sap/ui/core/mvc/Controller","sap/m/MessageStrip","sap/base/Log","sap/ui/model/json/JSONModel","sap/m/MessageToast","sap/m/MessageBox","sap/ui/Device","sap/ui/core/message/Message","sap/ui/core/library","../libs/constants"],function(e,s,r,+
t,a,o,n,i,l,u){"use strict";var p;return e.extend("z_vi02_sampling.controller.BaseController",{whNumber:undefined,workstation:undefined,requestData:function(e,s,r,t){let a=this;const o=t?t:u.service.url;let n=jQuery.Deferred();let i=[];let l="";s?.forEac+
h(e=>i.push(new sap.ui.model.Filter(e.field,e.sign,e.value)));const p=new sap.ui.model.odata.ODataModel(o,true);p.read("/"+e,{filters:i,success:e=>{if(e==null){l=a._buildMockData()}else{l=JSON.parse(JSON.stringify(e))}n.resolve(l)},error:e=>{n.reject(e)}+
});return n},createData:function(e,s,r,t){const a=t?t:u.service.url;const o=new sap.ui.model.odata.ODataModel(a,true);let n=jQuery.Deferred();o.create("/"+e,s,{success:e=>{let s=JSON.parse(JSON.stringify(e));n.resolve(s)},error:e=>{n.reject(e)}});return +
n},_buildMockData:function(){const e={results:[{Name:"1000"},{Name:"VI02"},{Name:"ZLTP"},{Name:"ZSAP"},{Name:"OTPK"}]};return e},handleError:function(e){const s=e.response?JSON.parse(e.response.body).error.message.value:JSON.parse(e.responseText).error.m+
essage.value;o.show(s,{icon:o.Icon.ERROR,title:"Error",actions:[o.Action.OK]})},showMessage:function(e,s,r){var t=new i({message:e,type:s,target:"/Dummy",processor:this.getView().getModel()});sap.ui.getCore().getMessageManager().addMessages(t);if(r){o.er+
ror(e)}else{var a=this.getView().byId("hbox1");var n=sap.ui.getCore().byId("msgStrip");if(n){n.destroy()}var l=new sap.m.MessageStrip("msgStrip",{text:e,showCloseButton:false,showIcon:false,type:s});a.addItem(l)}},getTranslatedText:function(e){return thi+
s.getOwnerComponent().getModel("i18n").getProperty(e)},onMessagePopoverPress:function(e){this._getMessagePopover().openBy(e.getSource())},_getMessagePopover:function(){if(!this._oMessagePopover){this._oMessagePopover=sap.ui.xmlfragment(this.getView().get+
Id(),"z_vi02_sampling.view.MessagePopover",this);this.getView().addDependent(this._oMessagePopover)}return this._oMessagePopover},enableElement:function(e){var s=this.getElementsModel();var r="/"+e+"/enabled";s.setProperty(r,true);s.refresh(true)},disabl+
eElement:function(e){var s=this.getElementsModel();var r="/"+e+"/enabled";s.setProperty(r,false);s.refresh(true)},toggleButton:function(e,s){var r=this.getElementsModel();var t="/"+e+"/pressed";r.setProperty(t,s);r.refresh(true)},handleMessageResponse:fu+
nction e(s,r){var t="9FB7E23B75B7157FE10000000A11447B";if(!s.headers){s=s.response}var a=!!s.headers["sap-message"];if(a){var o=JSON.parse(s.headers["sap-message"]);var n=o.details;if(n&&n instanceof Array){n.forEach(function(e){o.message+="\n"+e.message+
})}}else{var i=null;s.hasOwnProperty("responseText")?i="responseText":i="body";if(s[i].includes("error")){var l=JSON.parse(s[i]);var u=l.error.message.value;if(l.error.code.includes(t)){u="Invalid Value"}this.showMessage(u,"Error",r)}}},_statusCodeSwitch+
(e){const s=e.response.statusCode;let r={code:s,title:e.response.statusText};let t="There was an error while executing your request.";switch(s){case 400:break;case 500:e=JSON.parse(e.response.body).error;t="Code: "+e.code+"\nReason: "+e.message.value;bre+
ak;default:t="Default Error Text"}r.errorText=t;return r}})});                                                                                                                                                                                                 